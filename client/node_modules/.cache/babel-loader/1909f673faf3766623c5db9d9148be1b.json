{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mufas\\\\OneDrive\\\\Documents\\\\GitHub\\\\project-rack-race\\\\client\\\\src\\\\Pages\\\\User\\\\UserShow.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { Button, ButtonGroup, CircularProgress, TextField, styled } from '@mui/material';\nimport { UserContext } from '../../hooks/UserContext';\nimport authHeader from '../../services/auth-header';\nimport '../../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomButton = styled(Button)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    color: \"white\",\n    backgroundColor: \"#df1c2f\",\n    '&:hover': {\n      backgroundColor: \"#df1c2f\"\n    }\n  };\n});\nexport default function UserShow(props) {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    authUser\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [workoutgroupId, setWorkoutgroupId] = useState();\n  const [userId, setUserId] = useState();\n  useEffect(() => {\n    axios.get(`http://localhost:8080/users/${id}`, {\n      headers: authHeader()\n    }).then(res => {\n      if (res.status === 500) {\n        setError(true);\n      } else {\n        setUser(res.data);\n      }\n\n      setLoading(false);\n    }).catch(err => {\n      console.log(err);\n      setError(err);\n    });\n  }, [id]);\n\n  function addWorkoutgroup() {\n    axios.post(`http://localhost:8080/users/${id}/add-workoutgroup/${workoutgroupId}`, {}, {\n      headers: authHeader()\n    }).catch(e => {\n      alert(\"error: \" + e.response.data.message);\n    });\n    axios.post(`http://localhost:8080/workoutgroups/${workoutgroupId}/add-user/${id}`, {}, {\n      headers: authHeader()\n    }).catch(e => {\n      alert(\"error: \" + e.response.data.message);\n    });\n    window.location.reload();\n  }\n\n  function dropWorkoutgroup(droppedId) {\n    axios.post(`http://localhost:8080/users/${id}/drop-workoutgroup/${droppedId}`, {}, {\n      headers: authHeader()\n    }).catch(e => {\n      alert(\"error: \" + e.response.data.message);\n    });\n    axios.post(`http://localhost:8080/workoutgroups/${droppedId}/drop-user/${id}`, {}, {\n      headers: authHeader()\n    }).catch(e => {\n      alert(\"error: \" + e.response.data.message);\n    });\n    window.location.reload();\n  }\n\n  function addFriend() {\n    axios.post(`http://localhost:8080/users/${authUser._id}/add-friend/${id}`, {}, {\n      headers: authHeader()\n    }).catch(e => {\n      console.log(\"error: \" + e.response.data.message);\n    });\n    window.location.reload();\n  }\n\n  function dropFriend(droppedId) {\n    axios.post(`http://localhost:8080/users/${id}/drop-friend/${droppedId}`, {}, {\n      headers: authHeader()\n    }).catch(e => {\n      console.log(\"error: \" + e.response.data.message);\n    });\n    window.location.reload();\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 12\n    }, this);\n  } else if (loading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"paddedRight\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), authUser && authUser._id === id ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            style: {\n              marginRight: 15\n            },\n            onClick: () => navigate(`/settings`),\n            children: \"settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: addFriend,\n          children: \"add friend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          fontWeight: \"bold\"\n        },\n        children: [\"@\", user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this), authUser && authUser._id === id && /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email: \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), authUser && authUser._id === id && /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Charity: \", user.charity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), authUser && authUser._id === id && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Monthly Pledges\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: () => navigate(`/users/${id}/monthlypledges/new`),\n          children: \"New Monthly Pledge\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: user.monthlypledges && user.monthlypledges.map((monthlypledge, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: monthlypledge.payment_amount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              size: \"small\",\n              onClick: () => navigate(`/monthlypledges/${monthlypledge._id}`),\n              children: \"show\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Workout Groups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }, this), user.workoutgroups && user.workoutgroups.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: user.workoutgroups && user.workoutgroups.map((workoutgroup, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: workoutgroup.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              variant: \"outlined\",\n              size: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => navigate(`/workoutgroups/${workoutgroup._id}`),\n                children: \"show\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"error\",\n                onClick: () => dropWorkoutgroup(workoutgroup._id),\n                children: \"drop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [authUser && authUser._id === id ? \"you are\" : \"this user is\", \" currently in no groups\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayContainer\",\n        style: {},\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Friends\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }, this), user.friends && user.friends.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: user.friends.map((user, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n              variant: \"outlined\",\n              size: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => navigate(`/users/${user._id}`),\n                children: \"profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"error\",\n                onClick: () => dropFriend(user._id),\n                children: \"unfriend\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [authUser && authUser._id === id ? \"you have\" : \"this user has\", \" no friends!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(UserShow, \"JC4lXE0TTucgdvO1RdFKz3euO5E=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = UserShow;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserShow\");","map":{"version":3,"sources":["C:/Users/mufas/OneDrive/Documents/GitHub/project-rack-race/client/src/Pages/User/UserShow.js"],"names":["React","useState","useEffect","useContext","axios","Link","useParams","useNavigate","Button","ButtonGroup","CircularProgress","TextField","styled","UserContext","authHeader","CustomButton","theme","color","backgroundColor","UserShow","props","id","authUser","navigate","user","setUser","loading","setLoading","error","setError","workoutgroupId","setWorkoutgroupId","userId","setUserId","get","headers","then","res","status","data","catch","err","console","log","addWorkoutgroup","post","e","alert","response","message","window","location","reload","dropWorkoutgroup","droppedId","addFriend","_id","dropFriend","name","marginRight","fontWeight","username","email","charity","monthlypledges","map","monthlypledge","i","payment_amount","workoutgroups","length","workoutgroup","friends"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams, useNavigate } from 'react-router-dom';\r\nimport { Button, ButtonGroup, CircularProgress, TextField, styled } from '@mui/material';\r\nimport { UserContext } from '../../hooks/UserContext';\r\nimport authHeader from '../../services/auth-header';\r\nimport '../../App.css';\r\n\r\nconst CustomButton = styled(Button)(({ theme }) => ({\r\n  color: \"white\",\r\n  backgroundColor: \"#df1c2f\",\r\n  '&:hover': {\r\n    backgroundColor: \"#df1c2f\",\r\n  },\r\n}));\r\n\r\nexport default function UserShow(props) {\r\n  const { id } = useParams();\r\n  const { authUser } = useContext(UserContext);\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n\tconst [workoutgroupId, setWorkoutgroupId] = useState();\r\n\tconst [userId, setUserId] = useState();\r\n\r\n  useEffect(() => {\r\n    axios.get(`http://localhost:8080/users/${id}`, { headers: authHeader() })\r\n    .then((res) => {\r\n      if (res.status === 500) {\r\n        setError(true);\r\n      } else {\r\n        setUser(res.data);\r\n      }\r\n      setLoading(false);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setError(err);\r\n    });\r\n  }, [id]);\r\n\r\n\r\n\r\n  function addWorkoutgroup() {\r\n    axios.post(`http://localhost:8080/users/${id}/add-workoutgroup/${workoutgroupId}`, {}, { headers: authHeader() })\r\n    .catch((e) => { \r\n      alert(\"error: \" + e.response.data.message) \r\n    })\r\n    axios.post(`http://localhost:8080/workoutgroups/${workoutgroupId}/add-user/${id}`, {}, { headers: authHeader() })\r\n    .catch((e) => { \r\n      alert(\"error: \" + e.response.data.message) \r\n    })\r\n    window.location.reload();\r\n  }\r\n\r\n  function dropWorkoutgroup(droppedId) {\r\n    axios.post(`http://localhost:8080/users/${id}/drop-workoutgroup/${droppedId}`, {}, { headers: authHeader() })\r\n    .catch((e) => { \r\n      alert(\"error: \" + e.response.data.message) \r\n    })\r\n    axios.post(`http://localhost:8080/workoutgroups/${droppedId}/drop-user/${id}`, {}, { headers: authHeader() })\r\n    .catch((e) => { \r\n      alert(\"error: \" + e.response.data.message) \r\n    })\r\n    window.location.reload();\r\n  }\r\n\r\n  function addFriend() {\r\n    axios.post(`http://localhost:8080/users/${authUser._id}/add-friend/${id}`, {}, { headers: authHeader() })\r\n    .catch((e) => { \r\n      console.log(\"error: \" + e.response.data.message) \r\n    });\r\n    window.location.reload();\r\n  }\r\n\r\n  function dropFriend(droppedId) {\r\n    axios.post(`http://localhost:8080/users/${id}/drop-friend/${droppedId}`, {}, { headers: authHeader() })\r\n    .catch((e) => { \r\n      console.log(\"error: \" + e.response.data.message) \r\n    })\r\n    window.location.reload();\r\n  }\r\n\r\n\r\n  if (error) {\r\n    return <div>Error: {error.message}</div>;\r\n  } else if (loading) {\r\n    return <CircularProgress />;\r\n  } else {\r\n    return (\r\n      <div className='container'>\r\n        <div className='row'>\r\n          <h1 className='paddedRight'>{user.name}</h1>\r\n\r\n          { authUser && authUser._id === id ?\r\n            <div className='row'>\r\n              <Button variant=\"outlined\" style={{marginRight: 15}}\r\n                onClick={() => navigate(`/settings`)}>settings\r\n              </Button>\r\n            </div>\r\n            :\r\n            <Button variant=\"contained\"\r\n              onClick={addFriend}>add friend\r\n            </Button>\r\n          }\r\n        </div>\r\n\r\n        {/* DISPLAY USER INFO */}\r\n\t\t\t\t<label style={{fontWeight: \"bold\"}}>@{user.username}</label>\r\n        {authUser && authUser._id === id &&\r\n          <label>Email: {user.email}</label>}\r\n        {authUser && authUser._id === id &&\r\n          <label>Charity: {user.charity}</label>}\r\n\r\n\r\n        {/* SHOW MONTHLY PLEDGES */}\r\n        { authUser && authUser._id === id &&\r\n        <div className='displayContainer'>\r\n\t\t\t\t\t<h3>Monthly Pledges</h3>\r\n\t\t\t\t\t<Button variant='contained' onClick={() => navigate(`/users/${id}/monthlypledges/new`)}>New Monthly Pledge</Button>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t{user.monthlypledges && user.monthlypledges.map((monthlypledge, i) => (\r\n\t\t\t\t\t\t<div className='listItem' key={i}>\r\n\t\t\t\t\t\t\t<li>{monthlypledge.payment_amount}</li>\r\n\t\t\t\t\t\t\t<Button variant='outlined' size='small'\r\n\t\t\t\t\t\t\t\tonClick={() => navigate(`/monthlypledges/${monthlypledge._id}`)}>show</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n        }\r\n\r\n        {/* SHOW WORKOUT GROUPS */}\r\n\t\t\t\t<div className='displayContainer'>\r\n\t\t\t\t\t<h3>Workout Groups</h3>\r\n\r\n          {(user.workoutgroups && user.workoutgroups.length > 0) ?\r\n            <ul>\r\n              {user.workoutgroups && user.workoutgroups.map((workoutgroup, i) => (\r\n                <div className='listItem' key={i}>\r\n                  <li>{workoutgroup.name}</li>\r\n                  <ButtonGroup variant='outlined' size='small'>\r\n                    <Button onClick={() => navigate(`/workoutgroups/${workoutgroup._id}`)}>show</Button>\r\n                    <Button color='error' onClick={() => dropWorkoutgroup(workoutgroup._id)}>drop</Button>\r\n                  </ButtonGroup>\r\n                </div>\r\n              ))}\r\n            </ul>\r\n            :\r\n            <p>{(authUser && authUser._id === id) ? \"you are\" : \"this user is\"} currently in no groups</p>\r\n          }\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\r\n        {/* SHOW FRIENDS */}\r\n\t\t\t\t<div className='displayContainer' style={{}}>\r\n\t\t\t\t\t<h3>Friends</h3>\r\n\t\t\t\t\t\r\n          {(user.friends && user.friends.length > 0) ?\r\n            <ul>\r\n            {user.friends.map((user, i) => (\r\n              <div className='listItem' key={i}>\r\n                <li>{user.name}</li>\r\n                <ButtonGroup variant='outlined' size='small'>\r\n                  <Button onClick={() => navigate(`/users/${user._id}`)}>profile</Button>\r\n                  <Button color='error' onClick={() => dropFriend(user._id)}>unfriend</Button>\r\n                </ButtonGroup>\r\n              </div>\r\n            ))}\r\n            </ul>\r\n            :\r\n            <p>{(authUser && authUser._id === id) ? \"you have\" : \"this user has\"} no friends!</p>\r\n          }\r\n\t\t\t\t</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}